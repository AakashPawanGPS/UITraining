<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async Await</title>
</head>

<body>
    <script>
        // const promise = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         reject(Error('Promise Rejected Unconditionally.'));
        //     }, 5000);
        // });

        // promise.then((res) => {
        //     console.log(value);
        // });

        // promise.catch((err) => {
        //     alert(err);
        // });

        // const promise = new Promise((resolve, reject) => {
        //     var a = 2;
        //     if (a == 1 + 1) {
        //         resolve('Resolved! a = 2');
        //     }
        //     else {
        //         reject(Error('Error'));
        //     }
        // });

        // promise.then((res) => {
        //     console.log(res)
        // })
        // .catch((err) => {
        //     console.log(err)
        // });

        // const promise = new Promise((resolve, reject) => {
        //     setTimeout(() => {
        //         resolve('*');
        //     }, 1000);
        // });

        // const twoStars = (star) => {
        //     return (star + star);
        // };

        // const oneDot = (star) => {
        //     return (star + '.');
        // };

        // const print = (val) => {
        //     console.log(val);
        // };

        // // Chaining them all together
        // promise.then(twoStars).then(oneDot).then(print);

        //async and await enables asynchronous
        //promise based on the behaviour keeps follows a chain


        function makeRequest(loc){
            return new Promise((resolve,reject) => {
                console.log(`Making request to ${loc}`)
                if(loc == 'google'){
                    resolve("Google says HIII!")
                }
                else{
                    reject("Oops Can't find your location :(")
                }
            })
        }

        function processRequest(response){
            return new Promise((resolve,reject) => {
                console.log("Processing response");
                resolve(`Extra information + ${response}`)
            })
        }

        // makeRequest('google').then((response) => {
        //     console.log(response);
        //     console.log("Response Received");
        //     return processRequest(response)
        // }).then((processedResponse) => {
        //     console.log(processedResponse)
        // }).catch(err => {
        //     console.log("Error");
        // })

        async function doWork(){
            try{
                var response = await makeRequest('google')
                console.log(response);
                console.log("Response Received");
                var processedResponse = await processRequest(response)
                console.log(processedResponse);
            }
            catch{
                console.log("Error");
            }
        }

        doWork()


    </script>
</body>

</html>



<!-- 
    I am Aakash Pawan,a trainee UI developer. I really enjoy my life here at Corestack a lot. I adore the atmosphere here and how my coworkers treat me. As you are aware, I am currently in my training time and am constantly learning new things. I want to use what I've learned and what I know to help corestack become better. I'm anticipating the day I join my squad. I hope that my affection for the company will remain the same forever.
    
    I learned that we will no longer receive free lunch beginning in September. Employees would be responsible for their own lunch expenses. It would be fantastic, if we continued to receive free lunches. We save time and money by having free lunch at work. Please take this into consideration, and I look forward to hearing from you.
 -->